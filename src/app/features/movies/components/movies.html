<section class="movies-page">
  <header class="page-header">
    <div class="page-title">
      <p class="eyebrow">Featured collection</p>
      <h1>Discover top movies</h1>
      <p class="subtitle">
        Pick a film for the perfect movie night, search by director or genre, and enjoy a refined
        layout that highlights every detail.
      </p>
    </div>

    <app-movie-filter (search)="onSearch($event)" />
  </header>

  @if (isLoading()) {
  <div class="state">
    <p class="state__message">Loading the movie list...</p>
  </div>
  } @if (!isLoading() && errorMessage()) {
  <div class="state state--error">
    <p class="state__message">{{ errorMessage() }}</p>
    <button type="button" class="state__action-button" (click)="retryLoadingMovies()">
      Try again
    </button>
  </div>
  } @if (!isLoading() && !errorMessage() && movies().length === 0) {
  <div class="state">
    <p class="state__message">No movies match your current search.</p>
  </div>
  } @if (!isLoading() && !errorMessage() && movies().length > 0) {
  <app-movies-list [movies]="movies()" (viewDetails)="openMovieDetails($event)" />
  }

  <app-movie-details />
</section>
